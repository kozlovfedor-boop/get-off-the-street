<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Test Suite - Get off the Street</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            padding: 40px;
            background: #1a1a1a;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .test-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .test-header h1 {
            color: #ffd700;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .test-summary {
            background: #2a2a2a;
            border: 3px solid #444;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .test-summary.all-pass {
            border-color: #4ecb71;
            background: rgba(78, 203, 113, 0.1);
        }

        .test-summary.has-failures {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
        }

        .test-summary h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .test-summary.all-pass h2 {
            color: #4ecb71;
        }

        .test-summary.has-failures h2 {
            color: #ff6b6b;
        }

        .test-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .test-result {
            background: #2a2a2a;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
        }

        .test-result.pass {
            border-color: #4ecb71;
        }

        .test-result.fail {
            border-color: #ff6b6b;
        }

        .test-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .test-icon {
            font-size: 1.5em;
            font-weight: bold;
        }

        .test-result.pass .test-icon {
            color: #4ecb71;
        }

        .test-result.fail .test-icon {
            color: #ff6b6b;
        }

        .test-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #e0e0e0;
        }

        .test-details {
            margin-top: 10px;
            padding: 10px;
            background: #1a1a1a;
            border-radius: 5px;
            font-size: 0.9em;
            color: #aaa;
        }

        .test-log {
            margin-top: 5px;
            color: #888;
            font-style: italic;
        }

        .test-error {
            margin-top: 10px;
        }

        .error-message {
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .error-details {
            background: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #444;
            color: #888;
            font-size: 0.85em;
            overflow-x: auto;
        }

        #game-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #252525;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
            width: 300px;
            max-height: 80vh;
            overflow-y: auto;
        }

        #game-display h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
            font-size: 1em;
        }

        .game-stat {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #333;
            font-size: 0.9em;
        }

        .game-stat:last-child {
            border-bottom: none;
        }

        .game-stat-label {
            color: #888;
        }

        .game-stat-value {
            color: #e0e0e0;
            font-weight: bold;
        }

        .hidden-game {
            position: absolute;
            left: -9999px;
            width: 800px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #888;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ðŸ§ª Automated Test Suite</h1>
            <p style="color: #888;">Testing "Get off the Street" game mechanics...</p>
        </div>

        <div id="test-results">
            <div class="loading">Running tests... Please wait.</div>
        </div>
    </div>

    <!-- Hidden game instance for testing -->
    <div class="hidden-game">
        <div class="container">
            <div class="header">
                <h1>GET OFF THE STREET</h1>
                <div class="subtitle">Survive. Earn. Escape.</div>
            </div>

            <div class="story" id="story">
                <button class="start-game-btn" id="start-game">Start Game</button>
            </div>

            <div class="game-content" id="game-content">
                <div class="game-container">
                    <div class="stats-column">
                        <div class="stat-money">
                            <div class="stat-label">MONEY</div>
                            <div class="stat-value" id="money">Â£0</div>
                        </div>
                        <div class="stat-bar health-bar">
                            <div class="stat-bar-label">
                                <span>HEALTH</span>
                                <span class="stat-bar-value" id="health-value">100</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-bar-fill health-fill" id="health-bar" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar hunger-bar">
                            <div class="stat-bar-label">
                                <span>HUNGER</span>
                                <span class="stat-bar-value" id="hunger-value">50</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-bar-fill hunger-fill" id="hunger-bar" style="width: 50%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="game-column">
                        <div class="location-info">
                            <div class="location-header">
                                <div class="location-name-group">
                                    <div class="location-name">
                                        <span class="label">Location:</span>
                                        <span class="value" id="location">City Park</span>
                                    </div>
                                </div>
                                <div class="travel-button-container" id="travel-button-container">
                                    <!-- Travel button will be rendered here by ui.js -->
                                </div>
                            </div>
                            <div class="location-description" id="location-desc">Public park.</div>
                            <div class="location-destinations hidden" id="location-destinations">
                                <!-- Travel destinations will be rendered here by ui.js -->
                            </div>
                        </div>

                        <div class="game-area">
                            <div id="game-status"></div>
                            <div class="actions" id="actions"></div>
                            <div class="log" id="log"></div>
                        </div>
                    </div>

                    <div class="datetime-column">
                        <div class="stat-datetime">
                            <div class="datetime-main">
                                Day <span id="day">1</span>
                            </div>
                            <div class="datetime-main" id="time">06:00</div>
                            <div class="datetime-period" id="time-period">Morning</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load game scripts -->
    <script src="js/config.js"></script>
    <script src="js/player.js"></script>
    <script src="js/time.js"></script>
    <script src="js/locations.js"></script>
    <script src="js/events.js"></script>

    <!-- Load action system -->
    <script src="js/actions/base-action.js"></script>
    <script src="js/actions/action-utils.js"></script>
    <script src="js/actions/work-action.js"></script>
    <script src="js/actions/find-food-action.js"></script>
    <script src="js/actions/eat-action.js"></script>
    <script src="js/actions/sleep-action.js"></script>
    <script src="js/actions/panhandle-action.js"></script>
    <script src="js/actions/steal-action.js"></script>
    <script src="js/actions/action-factory.js"></script>

    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>

    <!-- Load test suite -->
    <script src="js/test.js"></script>
</body>
</html>
